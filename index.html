<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Filterable Image Gallery</title>

    <!-- custom css file link  -->
    <link rel="stylesheet" href="css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body>
    <div class="container">
      <h1 class="heading">type to search images</h1>

      <input type="text" placeholder="search images" id="search-box" />
      <button
        type="button"
        class="custom_button"
        onclick="generateRandomImage()"
      >
        <i class="fa fa-random fa-2x" aria-hidden="true"></i>
      </button>
      <div class="image-container">
        <div class="image" data-title="cute" data-value="animal">
          <img src="images/cute-1.jpg" alt="" />
          <h3>cute animal</h3>
        </div>

        <div class="image" data-title="modern" data-value="car">
          <img src="images/car-1.jpg" alt="" />
          <h3>modern car</h3>
        </div>

        <div class="image" data-title="tasty" data-value="food">
          <img src="images/food-1.jpg" alt="" />
          <h3>tasty food</h3>
        </div>

        <div class="image" data-title="huge" data-value="city">
          <img src="images/city-1.jpg" alt="" />
          <h3>huge city</h3>
        </div>

        <div class="image" data-title="tasty" data-value="food">
          <img src="images/food-2.jpg" alt="" />
          <h3>tasty food</h3>
        </div>

        <div class="image" data-title="modern" data-value="car">
          <img src="images/car-2.jpg" alt="" />
          <h3>modern car</h3>
        </div>

        <div class="image" data-title="cute" data-value="animal">
          <img src="images/cute-2.jpg" alt="" />
          <h3>cute animal</h3>
        </div>

        <div class="image" data-title="tasty" data-value="food">
          <img src="images/food-3.jpg" alt="" />
          <h3>tasty food</h3>
        </div>

        <div class="image" data-title="cute" data-value="animal">
          <img src="images/cute-3.jpg" alt="" />
          <h3>cute animal</h3>
        </div>
      </div>
    </div>

    <script>
      let searchBox = document.querySelector("#search-box");
      let images = document.querySelectorAll(
        ".container .image-container .image"
      );

      searchBox.oninput = () => {
        images.forEach((hide) => (hide.style.display = "none"));
        let value = searchBox.value;
        images.forEach((filter) => {
          let title = filter.getAttribute("data-title");
          let dataValue = filter.getAttribute("data-value");
          let fullValue = title + " " + dataValue;
          if (value == title) {
            filter.style.display = "block";
          } else if (searchBox.value == "") {
            filter.style.display = "block";
          } else if (searchBox.value == dataValue) {
            filter.style.display = "block";
          } else if (searchBox.value == fullValue) {
            filter.style.display = "block";
          }
        });
      };

      function generateRandomImage() {
        //declare an array to store the images
        var randomImage = new Array();
        //insert the URL of images in array
        randomImage[0] = "images/car-1.jpg";
        randomImage[1] = "images/car-2.jpg";
        randomImage[2] = "images/city-1.jpg";
        randomImage[3] = "images/cute-1.jpg";
        randomImage[4] = "images/cute-2.jpg";
        randomImage[5] = "images/cute-3.jpg";
        randomImage[6] = "images/food-1.jpg";
        randomImage[7] = "images/food-2.jpg";
        randomImage[8] = "images/food-3.jpg";
        var randomTopic = new Array();
        //insert the URL of images in array
        randomTopic[0] = "Modern Car";
        randomTopic[1] = "Modern Car";
        randomTopic[2] = "Huge City";
        randomTopic[3] = "Cute Animal";
        randomTopic[4] = "Cute Animal";
        randomTopic[5] = "Cute Animal";
        randomTopic[6] = "Tasty Food";
        randomTopic[7] = "Tasty Food";
        randomTopic[8] = "Tasty Food"
        for (let i = 0; i < 1; i++) {
          //generate a number and provide to the image to generate randomly
          var number = Math.floor(Math.random() * randomImage.length);
         //  var topicNumber = Math.floor(Math.random() * randomImage.length) -;
          //  var text= Math.floor(Math.random() * randomText.length)
          //print the images generated by a random number
        }
        var headText = randomTopic[number];
        document.getElementsByClassName(
          "image-container",
          "h3"
        )[0].innerHTML = `<div class="image-container">
        <div class="image" data-title="cute" data-value="animal">
          <img src="${randomImage[number]}" alt="" />
          <h3>${headText}</h3>
        </div>`;
      }
    </script>
  </body>
</html>
